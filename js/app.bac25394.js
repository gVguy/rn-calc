(function(t){function e(e){for(var a,i,u=e[0],o=e[1],l=e[2],f=0,p=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);s&&s(e);while(p.length)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,u=1;u<n.length;u++){var o=n[u];0!==r[o]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},c=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var s=o;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"053c":function(t,e,n){"use strict";n("3e2f")},"28aa":function(t,e,n){},"3e2f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(t,e,n,r,c,i){var u=Object(a["n"])("Calc");return Object(a["j"])(),Object(a["c"])(u,{url:t.url},null,8,["url"])}var c={class:"calc"},i={class:"right"};function u(t,e,n,r,u,o){var l=Object(a["n"])("List"),s=Object(a["n"])("Setup"),f=Object(a["n"])("Result");return Object(a["j"])(),Object(a["e"])("div",c,[Object(a["h"])(l,{list:o.filteredList,onAddItem:o.addItem},null,8,["list","onAddItem"]),Object(a["f"])("div",i,[Object(a["h"])(s,{percentOk:o.percentOk,onCalculate:o.calculate},null,8,["percentOk","onCalculate"]),Object(a["h"])(f,{active:u.active,percentOk:o.percentOk,onRemoveItem:o.removeItem,onPercentInput:o.percentInput},null,8,["active","percentOk","onRemoveItem","onPercentInput"])])])}n("d81d"),n("4de4"),n("caad"),n("2532"),n("a9e3"),n("b680"),n("159b"),n("a434"),n("d3b7");var o={class:"list calc-section"},l={class:"search-input-container"},s={class:"search-results"},f=["onClick"];function p(t,e,n,r,c,i){return Object(a["j"])(),Object(a["e"])("div",o,[Object(a["f"])("div",l,[Object(a["r"])(Object(a["f"])("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.searchText=t})},null,512),[[a["q"],c.searchText]])]),Object(a["f"])("div",s,[(Object(a["j"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(i.searchResults,(function(t){return Object(a["j"])(),Object(a["e"])("div",{class:"list-item",key:"list_item_"+t.Name_RN+t.ID,onClick:function(e){return i.listItemClickHandler(t)}},[Object(a["f"])("span",null,Object(a["o"])(t.Name_RN),1),Object(a["f"])("span",null,Object(a["o"])(t.Name_RN_Lat),1)],8,f)})),128))])])}n("4d63"),n("ac1f"),n("25f0");var d={name:"List",props:{list:Array},data:function(){return{searchText:""}},computed:{searchResults:function(){var t=new RegExp(this.searchText,"i");return this.list.filter((function(e){return t.test(e.Name_RN)||t.test(e.Kod_RN)}))}},methods:{listItemClickHandler:function(t){this.$emit("add-item",t)}}},m=(n("6a0a"),n("6b0d")),b=n.n(m);const h=b()(d,[["render",p],["__scopeId","data-v-b3cbe58a"]]);var O=h,v=function(t){return Object(a["l"])("data-v-e52ca272"),t=t(),Object(a["k"])(),t},j={class:"setup calc-section"},g=v((function(){return Object(a["f"])("span",{class:"title"},"По диапазону дат",-1)})),k=["max"],_=["min"],y=v((function(){return Object(a["f"])("span",{class:"title"},"По отрезку времени",-1)})),C=v((function(){return Object(a["f"])("option",null,"минут",-1)})),I=v((function(){return Object(a["f"])("option",null,"часов",-1)})),F=v((function(){return Object(a["f"])("option",null,"суток",-1)})),H=v((function(){return Object(a["f"])("option",null,"лет",-1)})),N=[C,I,F,H],R=v((function(){return Object(a["f"])("span",{class:"title"},"Начальная активность",-1)})),x=v((function(){return Object(a["f"])("option",null,"Бк",-1)})),w=v((function(){return Object(a["f"])("option",null,"кБк",-1)})),P=v((function(){return Object(a["f"])("option",null,"МБк",-1)})),T=v((function(){return Object(a["f"])("option",null,"ГБк",-1)})),D=[x,w,P,T],S=["disabled"];function L(t,e,n,r,c,i){return Object(a["j"])(),Object(a["e"])("div",j,[g,Object(a["r"])(Object(a["f"])("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.dateFrom=t}),onChange:e[1]||(e[1]=function(){return i.dateChangeHandler&&i.dateChangeHandler.apply(i,arguments)}),max:c.dateTo},null,40,k),[[a["q"],c.dateFrom]]),Object(a["r"])(Object(a["f"])("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=function(t){return c.dateTo=t}),onChange:e[3]||(e[3]=function(){return i.dateChangeHandler&&i.dateChangeHandler.apply(i,arguments)}),min:c.dateFrom},null,40,_),[[a["q"],c.dateTo]]),y,Object(a["r"])(Object(a["f"])("input",{type:"number",onInput:e[4]||(e[4]=function(){return i.timeInputHandler&&i.timeInputHandler.apply(i,arguments)}),"onUpdate:modelValue":e[5]||(e[5]=function(t){return c.time=t})},null,544),[[a["q"],c.time]]),Object(a["r"])(Object(a["f"])("select",{"onUpdate:modelValue":e[6]||(e[6]=function(t){return c.timeFormat=t}),onChange:e[7]||(e[7]=function(){return i.timeFormatChangeHandler&&i.timeFormatChangeHandler.apply(i,arguments)})},N,544),[[a["p"],c.timeFormat]]),R,Object(a["r"])(Object(a["f"])("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=function(t){return c.a0=t})},null,512),[[a["q"],c.a0]]),Object(a["r"])(Object(a["f"])("select",{"onUpdate:modelValue":e[9]||(e[9]=function(t){return c.aFormat=t}),onChange:e[10]||(e[10]=function(){return i.aFormatChangeHandler&&i.aFormatChangeHandler.apply(i,arguments)})},D,544),[[a["p"],c.aFormat]]),Object(a["f"])("button",{class:"calculate-btn",disabled:!n.percentOk||!i.setupOk,onClick:e[11]||(e[11]=function(){return i.calculateClickHandler&&i.calculateClickHandler.apply(i,arguments)})}," Рассчитать ",8,S)])}var M={name:"Setup",props:{percentOk:Boolean},data:function(){return{dateFrom:null,dateTo:null,time:null,timeFormat:"суток",aFormat:"Бк",a0:null}},computed:{timeMin:function(){if(!this.time)return 0;var t;switch(this.timeFormat){case"минут":t=1;break;case"часов":t=60;break;case"суток":t=1440;break;case"лет":t=525948.768;break}return this.time*t},aBk:function(){if(!this.a0)return 0;var t;switch(this.aFormat){case"Бк":return this.a0;case"кБк":t=1e3;break;case"МБк":t=1e6;break;case"ГБк":t=1e9;break}return this.a0*t},setupOk:function(){return this.timeMin>0&&this.a0>0}},methods:{dateChangeHandler:function(){this.dateFrom&&this.dateTo&&(this.time=(new Date(this.dateTo).getTime()-new Date(this.dateFrom).getTime())/864e5,this.timeFormat="суток")},timeInputHandler:function(t){this.resetDates(),this.time=t.target.value},timeFormatChangeHandler:function(t){this.resetDates(),this.timeFormat=t.target.value},resetDates:function(){this.dateFrom=null,this.dateTo=null},aFormatChangeHandler:function(t){this.aFormat=t.target.value},calculateClickHandler:function(){this.$emit("calculate",this.aBk,this.timeMin)}}};n("e3e1");const U=b()(M,[["render",L],["__scopeId","data-v-e52ca272"]]);var V=U,q=function(t){return Object(a["l"])("data-v-56aca6d6"),t=t(),Object(a["k"])(),t},A={class:"result calc-section"},E={class:"stats"},B={class:"active-stat"},$=Object(a["g"])("Наименование: "),J={class:"name"},K={class:"active-stat"},z={class:"active-stat"},X={key:0,class:"active-input-container"},G=["value","onInput"],Q=Object(a["g"])(" % "),W={key:1,class:"active-input-container result-container"},Y=["value"],Z=Object(a["g"])(" Бк "),tt=q((function(){return Object(a["f"])("div",{class:"active-result"},null,-1)})),et=["onClick"];function nt(t,e,n,r,c,i){var u=this;return Object(a["j"])(),Object(a["e"])("div",A,[(Object(a["j"])(!0),Object(a["e"])(a["a"],null,Object(a["m"])(n.active,(function(t,e){return Object(a["j"])(),Object(a["e"])("div",{class:"active-item",key:"active_item_"+t.ID},[Object(a["f"])("div",E,[Object(a["f"])("span",B,[$,Object(a["f"])("span",J,Object(a["o"])(t.item.Name_RN),1)]),Object(a["f"])("span",K,Object(a["o"])("Обозначение: "+t.item.Name_RN_Lat),1),Object(a["f"])("span",z,Object(a["o"])("Период полураспада: "+t.item.Period_p_r+" "+t.item.Edinica_izmer_p_r),1)]),u.active.length>1?(Object(a["j"])(),Object(a["e"])("div",X,[Object(a["f"])("input",{class:Object(a["i"])(["active-input",{error:!n.percentOk}]),type:"number",value:Number(t.percent.toFixed(2)),onInput:function(t){return i.percentInputHandler(t,e)}},null,42,G),Q])):Object(a["d"])("",!0),void 0!=t.result?(Object(a["j"])(),Object(a["e"])("div",W,[Object(a["f"])("input",{readonly:"",class:"active-input result",type:"text",value:t.result},null,8,Y),Z])):Object(a["d"])("",!0),tt,Object(a["f"])("button",{class:"remove-btn",onClick:function(t){return i.removeClickHandler(e)}},"X",8,et)])})),128))])}var at={name:"Result",props:{active:Array,percentOk:Boolean},data:function(){return{}},methods:{removeClickHandler:function(t){this.$emit("remove-item",t)},percentInputHandler:function(t,e){var n=t.target.value;this.$emit("percent-input",e,n)}}};n("d5fa");const rt=b()(at,[["render",nt],["__scopeId","data-v-56aca6d6"]]);var ct=rt,it={name:"Calc",components:{List:O,Setup:V,Result:ct},props:{url:String},data:function(){return{list:[],active:[]}},computed:{filteredList:function(){var t=this.active.map((function(t){return t.item.ID}));return this.list.filter((function(e){return!t.includes(e.ID)}))},totalPercent:function(){var t=this.active.reduce((function(t,e){return t+e.percent}),0);return t=Number(t.toFixed(12)),t},percentOk:function(){return 0!=this.active.length&&100==this.totalPercent}},methods:{addItem:function(t){var e,n=this;100==this.totalPercent?this.active.filter((function(t){return t.percent==100/n.active.length})).length==this.active.length?(e=100/(this.active.length+1),this.active.forEach((function(t){return t.percent=e}))):e=0:e=100-this.totalPercent,this.active.push({item:t,percent:e}),this.resetCalculations()},removeItem:function(t){var e=this.active.splice(t,1)[0].percent;this.active.length&&(1==this.active.length?this.active[0].percent=100:this.active[0].percent+=e),this.resetCalculations()},percentInput:function(t,e){e=parseFloat(e)||0,e||(this.active[t].percent=1),this.active[t].percent=e,this.resetCalculations()},calculate:function(t,e){this.active.forEach((function(n){n.result=t*Math.pow(2,-e/n.item.Period_p_r),n.result*=.01*n.percent}))},resetCalculations:function(){this.active.forEach((function(t){return delete t.result}))}},created:function(){var t=this;fetch(this.url).then((function(t){return t.json()})).then((function(e){t.list=e.filter((function(t){return t.Name_RN&&t.Kod_RN&&t.Period_p_r&&t.Name_RN_Lat}))}))}};n("053c");const ut=b()(it,[["render",u],["__scopeId","data-v-a3a0fe6e"]]);var ot=ut,lt={name:"App",components:{Calc:ot},created:function(){this.url="./rn.json"}};n("6af5");const st=b()(lt,[["render",r]]);var ft=st;Object(a["b"])(ft).mount("#app")},"6a0a":function(t,e,n){"use strict";n("e1ee")},"6af5":function(t,e,n){"use strict";n("e686")},"7c73f":function(t,e,n){},d5fa:function(t,e,n){"use strict";n("7c73f")},e1ee:function(t,e,n){},e3e1:function(t,e,n){"use strict";n("28aa")},e686:function(t,e,n){}});
//# sourceMappingURL=app.bac25394.js.map