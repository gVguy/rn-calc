(function(t){function e(e){for(var r,i,u=e[0],o=e[1],l=e[2],f=0,p=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&p.push(c[i][0]),c[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);s&&s(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,u=1;u<n.length;u++){var o=n[u];0!==c[o]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},c={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var s=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"49cc":function(t,e,n){"use strict";n("9e6c")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(t,e,n,c,a,i){var u=Object(r["n"])("Calc");return Object(r["j"])(),Object(r["c"])(u,{url:t.url},null,8,["url"])}var a={class:"calc"},i={class:"right"};function u(t,e,n,c,u,o){var l=Object(r["n"])("List"),s=Object(r["n"])("Setup"),f=Object(r["n"])("Result");return Object(r["j"])(),Object(r["e"])("div",a,[Object(r["h"])(l,{list:o.filteredList,onAddItem:o.addItem},null,8,["list","onAddItem"]),Object(r["f"])("div",i,[Object(r["h"])(s,{percentOk:o.percentOk,onCalculate:o.calculate},null,8,["percentOk","onCalculate"]),Object(r["h"])(f,{active:u.active,percentOk:o.percentOk,onRemoveItem:o.removeItem,onPercentInput:o.percentInput},null,8,["active","percentOk","onRemoveItem","onPercentInput"])])])}n("d81d"),n("4de4"),n("caad"),n("2532"),n("a9e3"),n("b680"),n("159b"),n("a434"),n("fb6a"),n("d3b7");var o={class:"list calc-section"},l={class:"search-input-container"},s={class:"search-results"},f=["onClick"];function p(t,e,n,c,a,i){return Object(r["j"])(),Object(r["e"])("div",o,[Object(r["f"])("div",l,[Object(r["r"])(Object(r["f"])("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.searchText=t})},null,512),[[r["q"],a.searchText]])]),Object(r["f"])("div",s,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(i.searchResults,(function(t){return Object(r["j"])(),Object(r["e"])("div",{class:"list-item",key:"list_item_"+t.Name_RN+t.ID,onClick:function(e){return i.listItemClickHandler(t)}},[Object(r["f"])("span",null,Object(r["o"])(t.Name_RN),1),Object(r["f"])("span",null,Object(r["o"])(t.Name_RN_Lat),1)],8,f)})),128))])])}n("4d63"),n("ac1f"),n("25f0");var d={name:"List",props:{list:Array},data:function(){return{searchText:""}},computed:{searchResults:function(){var t=new RegExp(this.searchText,"i");return this.list.filter((function(e){return t.test(e.Name_RN)||t.test(e.Kod_RN)}))}},methods:{listItemClickHandler:function(t){this.$emit("add-item",t)}}},m=(n("6a0a"),n("6b0d")),b=n.n(m);const h=b()(d,[["render",p],["__scopeId","data-v-b3cbe58a"]]);var v=h,O=function(t){return Object(r["l"])("data-v-def2afe2"),t=t(),Object(r["k"])(),t},j={class:"setup calc-section"},g=O((function(){return Object(r["f"])("span",{class:"title"},"По диапазону дат",-1)})),_=["max"],k=["min"],y=O((function(){return Object(r["f"])("span",{class:"title"},"По отрезку времени",-1)})),C=O((function(){return Object(r["f"])("option",null,"минут",-1)})),I=O((function(){return Object(r["f"])("option",null,"часов",-1)})),F=O((function(){return Object(r["f"])("option",null,"суток",-1)})),H=O((function(){return Object(r["f"])("option",null,"лет",-1)})),N=[C,I,F,H],R=O((function(){return Object(r["f"])("span",{class:"title"},"Начальная активность",-1)})),x=O((function(){return Object(r["f"])("option",null,"Бк",-1)})),w=O((function(){return Object(r["f"])("option",null,"кБк",-1)})),P=O((function(){return Object(r["f"])("option",null,"МБк",-1)})),T=O((function(){return Object(r["f"])("option",null,"ГБк",-1)})),D=[x,w,P,T],S=["disabled"];function L(t,e,n,c,a,i){return Object(r["j"])(),Object(r["e"])("div",j,[g,Object(r["r"])(Object(r["f"])("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.dateFrom=t}),onChange:e[1]||(e[1]=function(){return i.dateChangeHandler&&i.dateChangeHandler.apply(i,arguments)}),max:a.dateTo},null,40,_),[[r["q"],a.dateFrom]]),Object(r["r"])(Object(r["f"])("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.dateTo=t}),onChange:e[3]||(e[3]=function(){return i.dateChangeHandler&&i.dateChangeHandler.apply(i,arguments)}),min:a.dateFrom},null,40,k),[[r["q"],a.dateTo]]),y,Object(r["r"])(Object(r["f"])("input",{type:"number",onInput:e[4]||(e[4]=function(){return i.timeInputHandler&&i.timeInputHandler.apply(i,arguments)}),"onUpdate:modelValue":e[5]||(e[5]=function(t){return a.time=t})},null,544),[[r["q"],a.time]]),Object(r["r"])(Object(r["f"])("select",{"onUpdate:modelValue":e[6]||(e[6]=function(t){return a.timeFormat=t}),onChange:e[7]||(e[7]=function(){return i.timeFormatChangeHandler&&i.timeFormatChangeHandler.apply(i,arguments)})},N,544),[[r["p"],a.timeFormat]]),R,Object(r["r"])(Object(r["f"])("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=function(t){return a.a0=t})},null,512),[[r["q"],a.a0]]),Object(r["r"])(Object(r["f"])("select",{"onUpdate:modelValue":e[9]||(e[9]=function(t){return a.aFormat=t}),onChange:e[10]||(e[10]=function(){return i.aFormatChangeHandler&&i.aFormatChangeHandler.apply(i,arguments)})},D,544),[[r["p"],a.aFormat]]),Object(r["f"])("button",{class:"calculate-btn",disabled:!n.percentOk||!i.setupOk,onClick:e[11]||(e[11]=function(){return i.calculateClickHandler&&i.calculateClickHandler.apply(i,arguments)})}," Рассчитать ",8,S)])}var E={name:"Setup",props:{percentOk:Boolean},data:function(){return{dateFrom:null,dateTo:null,time:null,timeFormat:"суток",aFormat:"Бк",a0:null}},computed:{aBk:function(){if(!this.a0)return 0;var t;switch(this.aFormat){case"Бк":return this.a0;case"кБк":t=1e3;break;case"МБк":t=1e6;break;case"ГБк":t=1e9;break}return this.a0*t},setupOk:function(){return this.time&&this.a0>0}},methods:{dateChangeHandler:function(){this.dateFrom&&this.dateTo&&(this.time=(new Date(this.dateTo).getTime()-new Date(this.dateFrom).getTime())/864e5,this.timeFormat="суток")},timeInputHandler:function(t){this.resetDates(),this.time=t.target.value},timeFormatChangeHandler:function(t){this.resetDates(),this.timeFormat=t.target.value},resetDates:function(){this.dateFrom=null,this.dateTo=null},aFormatChangeHandler:function(t){this.aFormat=t.target.value},calculateClickHandler:function(){this.$emit("calculate",this.aBk,this.time,this.timeFormat)}}};n("49cc");const U=b()(E,[["render",L],["__scopeId","data-v-def2afe2"]]);var V=U,q=function(t){return Object(r["l"])("data-v-56aca6d6"),t=t(),Object(r["k"])(),t},A={class:"result calc-section"},M={class:"stats"},B={class:"active-stat"},$=Object(r["g"])("Наименование: "),z={class:"name"},J={class:"active-stat"},K={class:"active-stat"},X={key:0,class:"active-input-container"},G=["value","onInput"],Q=Object(r["g"])(" % "),W={key:1,class:"active-input-container result-container"},Y=["value"],Z=Object(r["g"])(" Бк "),tt=q((function(){return Object(r["f"])("div",{class:"active-result"},null,-1)})),et=["onClick"];function nt(t,e,n,c,a,i){var u=this;return Object(r["j"])(),Object(r["e"])("div",A,[(Object(r["j"])(!0),Object(r["e"])(r["a"],null,Object(r["m"])(n.active,(function(t,e){return Object(r["j"])(),Object(r["e"])("div",{class:"active-item",key:"active_item_"+t.ID},[Object(r["f"])("div",M,[Object(r["f"])("span",B,[$,Object(r["f"])("span",z,Object(r["o"])(t.item.Name_RN),1)]),Object(r["f"])("span",J,Object(r["o"])("Обозначение: "+t.item.Name_RN_Lat),1),Object(r["f"])("span",K,Object(r["o"])("Период полураспада: "+t.item.Period_p_r+" "+t.item.Edinica_izmer_p_r),1)]),u.active.length>1?(Object(r["j"])(),Object(r["e"])("div",X,[Object(r["f"])("input",{class:Object(r["i"])(["active-input",{error:!n.percentOk}]),type:"number",value:Number(t.percent.toFixed(2)),onInput:function(t){return i.percentInputHandler(t,e)}},null,42,G),Q])):Object(r["d"])("",!0),void 0!=t.result?(Object(r["j"])(),Object(r["e"])("div",W,[Object(r["f"])("input",{readonly:"",class:"active-input result",type:"text",value:t.result},null,8,Y),Z])):Object(r["d"])("",!0),tt,Object(r["f"])("button",{class:"remove-btn",onClick:function(t){return i.removeClickHandler(e)}},"X",8,et)])})),128))])}var rt={name:"Result",props:{active:Array,percentOk:Boolean},data:function(){return{}},methods:{removeClickHandler:function(t){this.$emit("remove-item",t)},percentInputHandler:function(t,e){var n=t.target.value;this.$emit("percent-input",e,n)}}};n("d5fa");const ct=b()(rt,[["render",nt],["__scopeId","data-v-56aca6d6"]]);var at=ct,it={name:"Calc",components:{List:v,Setup:V,Result:at},props:{url:String},data:function(){return{list:[],active:[]}},computed:{filteredList:function(){var t=this.active.map((function(t){return t.item.ID}));return this.list.filter((function(e){return!t.includes(e.ID)}))},totalPercent:function(){var t=this.active.reduce((function(t,e){return t+e.percent}),0);return t=Number(t.toFixed(12)),t},percentOk:function(){return 0!=this.active.length&&100==this.totalPercent}},methods:{addItem:function(t){var e,n=this;100==this.totalPercent?this.active.filter((function(t){return t.percent==100/n.active.length})).length==this.active.length?(e=100/(this.active.length+1),this.active.forEach((function(t){return t.percent=e}))):e=0:e=100-this.totalPercent,this.active.push({item:t,percent:e}),this.resetCalculations()},removeItem:function(t){var e=this.active.splice(t,1)[0].percent;this.active.length&&(1==this.active.length?this.active[0].percent=100:this.active[0].percent+=e),this.resetCalculations()},percentInput:function(t,e){e=parseFloat(e)||0,e||(this.active[t].percent=1),this.active[t].percent=e,this.resetCalculations()},calculate:function(t,e,n){var r=function(t,e){if(!t)return 0;var n;switch(e.slice(0,3)){case"мин":n=1;break;case"час":n=60;break;case"сут":n=1440;break;case"лет":n=525948.768;break;default:return 0}return t*n};this.active.forEach((function(c){c.result=t*Math.pow(2,-r(e,n)/r(c.item.Period_p_r,c.item.Edinica_izmer_p_r)),c.result*=.01*c.percent}))},resetCalculations:function(){this.active.forEach((function(t){return delete t.result}))}},created:function(){var t=this;fetch(this.url).then((function(t){return t.json()})).then((function(e){t.list=e.filter((function(t){return t.Name_RN&&t.Kod_RN&&t.Period_p_r&&t.Name_RN_Lat&&t.Edinica_izmer_p_r}))}))}};n("e8e8");const ut=b()(it,[["render",u],["__scopeId","data-v-20f83ef2"]]);var ot=ut,lt={name:"App",components:{Calc:ot},created:function(){this.url="./rn.json"}};n("6af5");const st=b()(lt,[["render",c]]);var ft=st;Object(r["b"])(ft).mount("#app")},"6a0a":function(t,e,n){"use strict";n("e1ee")},"6af5":function(t,e,n){"use strict";n("e686")},"7c73f":function(t,e,n){},"9e6c":function(t,e,n){},d5fa:function(t,e,n){"use strict";n("7c73f")},e1ee:function(t,e,n){},e686:function(t,e,n){},e8e8:function(t,e,n){"use strict";n("eea9")},eea9:function(t,e,n){}});
//# sourceMappingURL=app.4c1dcaef.js.map